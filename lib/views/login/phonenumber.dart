import 'package:flutter/material.dart';
import 'package:telescope_driver/utils/color_utils.dart';
import 'package:sizer/sizer.dart';
import 'package:telescope_driver/utils/font_style_utils.dart';
import 'package:telescope_driver/utils/variable_utils.dart';

import '../../widgets/CustomeTextFormFeild.dart';

class PhoneNumber extends StatefulWidget {
  const PhoneNumber({Key? key}) : super(key: key);

  @override
  State<PhoneNumber> createState() => _PhoneNumberState();
}

class _PhoneNumberState extends State<PhoneNumber> {
  TextEditingController _phone = TextEditingController();
  var country = [
    "+1",
    "+93",
    "+355",
    "+213",
    "+684",
    "+376",
    "+244",
    "+809",
    "+268",
    "+54",
    "+374",
    "+297",
    "+247",
    "+61",
    "+672",
    "+43",
    "+994",
    "+242",
    "+246",
    "+973",
    "+880",
    "+375",
    "+32",
    "+501",
    "+229",
    "+975",
    "+284",
    "+591",
    "+387",
    "+267",
    "+55",
    "+673",
    "+359",
    "+226",
    "+257",
    "+855",
    "+237",
    "+238",
    "+345",
    "+236",
    "+235",
    "+56",
    "+86",
    "+886",
    "+57",
    "+269",
    "+682",
    "+506",
    "+385",
    "+53",
    "+357",
    "+420",
    "+45",
    "+767",
    "+253",
    "+593",
    "+20",
    "+503",
    "+240",
    "+291",
    "+372",
    "+251",
    "+500",
    "+298",
    "+679",
    "+358",
    "+33",
    "+596",
    "+594",
    "+241",
    "+220",
    "+995",
    "+49",
    "+233",
    "+350",
    "+30",
    "+299",
    "+473",
    "+671",
    "+502",
    "+224",
    "+245",
    "+592",
    "+509",
    "+504",
    "+852",
    "+36",
    "+354",
    "+91",
    "+62",
    "+98",
    "+964",
    "+353",
    "+972",
    "+225",
    "+876",
    "+81",
    "+962",
    "+254",
    "+686",
    "+82",
    "+965",
    "+996",
    "+371",
    "+856",
    "+961",
    "+266",
    "+231",
    "+370",
    "+218",
    "+423",
    "+352",
    "+853",
    "+389",
    "+261",
    "+265",
    "+60",
    "+960",
    "+223",
    "+356",
    "+692",
    "+222",
    "+230",
    "+52",
    "+691",
    "+373",
    "+976",
    "+212",
    "+258",
    "+95",
    "+264",
    "+674",
    "+977",
    "+31",
    "+599",
    "+869",
    "+687",
    "+64",
    "+505",
    "+227",
    "+234",
    "+683",
    "+850",
    "+1 670",
    "+47",
    "+968",
    "+92",
    "+680",
    "+507",
    "+675",
    "+595",
    "+51",
    "+63",
    "+48",
    "+351",
    "+1 787",
    "+974",
    "+262",
    "+40",
    "+250",
    "+670",
    "+378",
    "+239",
    "+966",
    "+221",
    "+381",
    "+248",
    "+232",
    "+65",
    "+421",
    "+386",
    "+677",
    "+252",
    "+27",
    "+34",
    "+94",
    "+290",
    "+508",
    "+249",
    "+597",
    "+46",
    "+41",
    "+963",
    "+689",
    "+7",
    "+255",
    "+66",
    "+228",
    "+690",
    "+676",
    "+1 868",
    "+216",
    "+90",
    "+993",
    "+688",
    "+256",
    "+380",
    "+971",
    "+44",
    "+598",
    "+678",
    "+39",
    "+58",
    "+84",
    "+1 340",
    "+681",
    "+685",
    "+967",
    "+243",
    "+260",
    "+263"
  ];

  var initialValue;
  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        Text(VariableUtils.oldPhNumber,
            style: FontTextStyle.GorditaW7S10darkBlack),
        SizedBox(
          height: 2.w,
        ),
        Row(
          children: [
            Expanded(
              flex: 0,
              child: Container(
                height: 16.w,
                width: 31.w,

                padding: EdgeInsets.all(4.w),
                decoration: BoxDecoration(
                  color: ColorUtils.aliceBlue,
                  borderRadius: BorderRadius.circular(4.5),
                ),
                //margin: EdgeInsets.symmetric(horizontal: 20),
                child: DropdownButton(
                  // isExpanded: true,
                  iconEnabledColor: ColorUtils.grey,
                  style: TextStyle(color: ColorUtils.grey, fontSize: 16),
                  dropdownColor: ColorUtils.aliceBlue,
                  focusColor: ColorUtils.grey,
                  elevation: 0,
                  underline: SizedBox(),
                  value: initialValue,
                  icon: Icon(Icons.keyboard_arrow_down),
                  items: country.map((String items) {
                    return DropdownMenuItem(
                      child: Text(items),
                      value: items != null ? items : "",
                    );
                  }).toList(),
                  onChanged: (value) {
                    setState(() {
                      initialValue = value;
                    });
                  },
                  // onChanged: (String? value) {
                  //   setState(() {
                  //     initialValue = value!;
                  //   });
                  // },
                ),
              ),
            ),
            SizedBox(
              width: 2.w,
            ),
            Expanded(
                child: CustomInputField(
              fieldController: _phone,
              fieldInputType: TextInputType.number,
            )),
          ],
        ),
      ],
    );
  }
}
